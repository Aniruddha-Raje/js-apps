const arr = [{
	"_id": "0d94c9bb-b9e0-4378-bd85-8141f527cc22",
	"updatedAt": "2020-12-29T19:06:04+05:30",
	"createdAt": "2020-12-29T19:04:48+05:30",
	"countryCode": "PH",
	"tenantId": "Samsung",
	"partitionKey": "SamsungPH",
	"orderId": "662830724568",
	"serviceContractId": "PHSSPHDG20201223000021",
	"productId": "SES_PH_D2C_1Y",
	"integrationId": "563160ea774071e8c3befbae430d2542",
	"planId": "PHLSTG20200414000676",
	"planAmount": "800.00",
	"recurringId": "5fad20a0a9fd8b79f3f9a517",
	"customerId": "CUST00006007",
	"customerFirstName": "Aniruddha",
	"customerLastName": "Raje",
	"customerMobileNumber": "+919422002228",
	"customerEmail": "aniruddha.raje@blazeclan.com",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2020-12-29",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-28",
	"endDate": "2021-02-27",
	"state": {
		"processedCharges": 1,
		"chargeAttempts": 0,
		"lastChargeAttemptDate": null,
		"lastProcessedChargeDate": "2020-12-29T19:06:04+05:30"
	},
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "352123115655304",
	"langauge": "EN"
}, {
	"_id": "71b56a03-c8f1-4a5c-ac9d-a622c4969766",
	"updatedAt": "2021-01-08T12:24:49+05:30",
	"createdAt": "2021-01-08T12:00:22+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-05-08",
	"endDate": "2021-06-07",
	"state": {
		"processedCharges": 4,
		"chargeAttempts": 0,
		"lastChargeAttemptDate": null,
		"lastProcessedChargeDate": "2021-01-08T12:24:49+05:30"
	}
}, {
	"_id": "cf9add17-cd94-42d7-ae45-c2a4d56ca93a",
	"updatedAt": "2021-01-08T12:30:16+05:30",
	"createdAt": "2021-01-08T12:25:57+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-04-08",
	"endDate": "2021-05-07",
	"state": {
		"processedCharges": 3,
		"chargeAttempts": 0,
		"lastChargeAttemptDate": null,
		"lastProcessedChargeDate": "2021-01-08T12:30:16+05:30"
	}
}, {
	"_id": "5e942b8d-6c42-4f04-9f0d-f226334e4e46",
	"updatedAt": "2021-01-08T12:47:23+05:30",
	"createdAt": "2021-01-08T12:45:58+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-03-08",
	"endDate": "2021-04-07",
	"state": {
		"processedCharges": 2,
		"chargeAttempts": 0,
		"lastChargeAttemptDate": null,
		"lastProcessedChargeDate": "2021-01-08T12:47:23+05:30"
	}
}, {
	"_id": "63f74ec1-c42a-49a2-8057-f4fe5b9fbbf4",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "6033730f4af38e31bdd3c97a",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "603373164af38e31bdd3c97b",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "6033731b4af38e31bdd3c97c",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "603373224af38e31bdd3c97d",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "603373274af38e31bdd3c97e",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}, {
	"_id": "6033732c4af38e31bdd3c97f",
	"updatedAt": "2021-01-08T12:53:28+05:30",
	"createdAt": "2021-01-08T12:50:44+05:30",
	"partitionKey": null,
	"location": "PH",
	"language": "EN",
	"orderId": "311468784921",
	"serviceContractId": "PHSSPHDG20210108000021",
	"productId": "SES_PH_D2C_1M",
	"partnerCode": "PHSAMSUOEMDG01",
	"imei": "358176109790739",
	"integrationId": "48b46f9ff850c49f7dea93881e1e1469",
	"planId": "PHLSTG20200802000109",
	"planAmount": "129",
	"recurringId": "5ff7f117c5a1227c895d9ede",
	"customerId": "CUST00291814",
	"customerFirstName": "Krishna",
	"customerLastName": "prasad",
	"customerMobileNumber": "+639123456789",
	"customerEmail": "krishnaprasad.mundru@bolttech.io",
	"subscriptionProfile": {
		"subscriptionProfileId": "SP001",
		"recurringFrequency": "1",
		"recurringInterval": "month",
		"maxRecurring": "99999"
	},
	"dunningProfile": {
		"frequency": "3",
		"interval": "day",
		"maxRetries": "3",
		"offset": "10"
	},
	"firstChargeDate": "2021-01-08",
	"status": "active",
	"nextChargeDate": "2021-02-22",
	"startDate": "2021-01-08",
	"endDate": "2021-02-07",
	"state": {
		"processedCharges": 0,
		"chargeAttempts": 4,
		"lastChargeAttemptDate": "2021-01-08T12:53:28+05:30",
		"lastProcessedChargeDate": null
	}
}]

let test = async () => {
    console.log("array length => ", arr.length);
    
    const subscriptionsBatches = await arrayToListOfArrays(
        arr,
        10
    );

    console.log("subscriptionsBatches =>", subscriptionsBatches.length);
    

    for(i in subscriptionsBatches){
        console.log("batch size => ", subscriptionsBatches[i].length);
    }
}

const arrayToListOfArrays = async (array, size) => {
    console.log("inside arrayToListOfArrays, is array ", Array.isArray(array), ", batch size", size);
  
    const chunked_arr = [];
    let index = 0;
  
    while (index < array.length) {
      await chunked_arr.push(await array.slice(index, size + index));
      index += size;
    }
  
    return chunked_arr;
};

test();